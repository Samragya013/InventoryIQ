<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>InventoryIQ â€” Retail Inventory Planner</title>

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">

  <!-- Responsive -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Styles -->
  <link rel="stylesheet" href="/static/css/main.css">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  >
</head>

<body>
  <!-- Particle Background -->
  <div id="particleContainer" class="particle-container"></div>

  <!-- ================= TOP NAVIGATION BAR ================= -->
  <nav class="top-nav">
    <div class="nav-container">
      <div class="nav-logo">
        <div class="logo-icon">ðŸ“Š</div>
        <div class="logo-text">
          <div class="logo-name">InventoryIQ</div>
          <div class="logo-tagline">Demand Intelligence</div>
        </div>
      </div>
      <ul class="nav-items">
        <li><a href="#" class="nav-link active" title="Inventory Planner">ðŸ“‹ Inventory Planner</a></li>
      </ul>
    </div>
  </nav>

  <!-- ================= APP CONTAINER ================= -->
  <div class="app-container">

    <!-- ================= MAIN CONTENT ================= -->
    <main class="main-content">

      <!-- ========== HEADER ========== -->
      <header class="header">
        <h1>Inventory Planning Dashboard</h1>
        <p>
          Generate risk-adjusted inventory order recommendations using
          demand forecasting intelligence.
        </p>
      </header>

      <!-- ========== SUMMARY BAR (NEW) ========== -->
      <div id="summaryBar" class="summary-bar hidden">
        <span id="summaryText"></span>
      </div>

      <!-- ========== CONTROLS CARD ========== -->
      <section class="controls-card">
        <h3>Planning Controls</h3>

        <div class="controls-grid">

          <!-- Store -->
          <div class="control">
            <label for="storeSelect">Store</label>
            <select id="storeSelect">
              <option value="">Select store</option>
            </select>
          </div>

          <!-- Products -->
          <div class="control">
            <label for="productSelect">
              Products
              <span id="productCount" class="product-count-badge">(0 selected)</span>
            </label>
            <select id="productSelect" multiple title="Hold Ctrl/Cmd to select multiple products"></select>
          </div>

          <!-- Action Button -->
          <button id="generateBtn" class="primary-btn" disabled>
            Generate Inventory Plan
          </button>

        </div>

        <!-- Scenario Controls (Hidden until plan generated) -->
        <div id="scenarioSection" class="scenario-section hidden">
          <div class="scenario-header">
            <h4>Demand Multiplier</h4>
            <span class="scenario-info" title="Simulate demand scenarios">?</span>
          </div>
          <div class="scenario-controls">
            <input type="range" id="demandMultiplier" min="0.5" max="2" step="0.1" value="1" class="scenario-slider">
            <div class="scenario-display">
              <span class="scenario-label">Demand:</span>
              <span id="multiplierValue" class="scenario-value">1.0x</span>
              <span id="multiplierContext" class="scenario-context">Base case (current forecast)</span>
            </div>
            <div class="scenario-presets">
              <button class="preset-btn" data-value="0.7">Low (âˆ’30%)</button>
              <button class="preset-btn" data-value="1">Base</button>
              <button class="preset-btn" data-value="1.3">High (+30%)</button>
            </div>
          </div>
        </div>
      </section>

      <!-- ========== RESULTS SECTION ========== -->
      <section class="results">

        <!-- ========== DEMAND FORECAST ========== -->
        <div class="card">
          <div class="card-header">
            <div>
              <h3>Demand Forecast</h3>
              <p class="card-subtitle">Historical weekly demand with next period forecast</p>
            </div>
          </div>
          <canvas id="forecastChart" height="120"></canvas>
        </div>

        <!-- ========== INVENTORY RECOMMENDATIONS ========== -->
        <div class="card">
          <div class="card-header">
            <h3>Inventory Recommendations</h3>
          </div>
          <div id="resultsArea" class="placeholder">
          </div>
        </div>

        <!-- ========== SCENARIO ANALYSIS ========== -->
        <div class="card">
          <div class="card-header">
            <div>
              <h3>Scenario Analysis</h3>
              <p class="card-subtitle">Order recommendations across demand scenarios</p>
            </div>
          </div>
          <div id="scenarioSnapshot" class="scenario-snapshot-table">
            <!-- Dynamically populated -->
          </div>
        </div>

        <!-- ========== FORECAST CONFIDENCE ========== -->
        <div class="card">
          <div class="card-header">
            <div>
              <h3>Forecast Confidence</h3>
              <p class="card-subtitle">Reliability of demand predictions</p>
            </div>
          </div>
          <div id="confidenceContent" class="confidence-content">
            <!-- Dynamically populated -->
          </div>
        </div>

        <!-- ========== RISK ASSESSMENT ========== -->
        <div class="card">
          <div class="card-header">
            <div>
              <h3>Risk Assessment</h3>
              <p class="card-subtitle">Stockout and inventory risk profiles</p>
            </div>
          </div>
          <div id="riskContent" class="risk-content">
            <!-- Dynamically populated -->
          </div>
        </div>

        <!-- ========== MODEL STATUS & ASSUMPTIONS ========== -->
        <div class="card">
          <div class="card-header">
            <div>
              <h3>Model Status & Assumptions</h3>
              <p class="card-subtitle">Active model version, data freshness, and key parameters</p>
            </div>
          </div>
          <div id="modelAssumptions" class="model-assumptions">
            <!-- Dynamically populated -->
          </div>
        </div>

      </section>

      <!-- ========== FOOTER ========== -->
      <footer class="footer">
        <div class="footer-main">
          <p>InventoryIQ â€” End-to-end demand intelligence platform</p>
        </div>
        <div class="footer-signals">
          <span class="footer-signal" id="dataWindow">Data: Last 52 weeks</span>
          <span class="footer-signal-sep">â€¢</span>
          <span class="footer-signal" id="lastRun">Last updated: Today</span>
          <span class="footer-signal-sep">â€¢</span>
          <span class="footer-signal footer-env">Production</span>
        </div>
      </footer>

    </main>
  </div>

  <!-- ================= JS ================= -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/static/js/app.js"></script>

</body>
</html>
